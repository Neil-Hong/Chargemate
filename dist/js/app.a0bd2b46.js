(function(){var e={3376:function(e,t,n){"use strict";var r=n(8935),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("b-container",[r("b-card",{staticStyle:{"max-width":"30rem"},attrs:{id:"uploadcard",padding:"40"}},[r("b-card-img",{attrs:{src:n(9726)}}),r("b-card-title",[e._v("WeTransfer in the Web 3.0")]),!1===e.error&&0===e.cids.length&&!1===e.sending?r("FileUploader",{on:{"update-cids":e.updateCids,"update-error":e.updateError}}):e._e(),0!==e.cids.length?r("Success",{on:{"update-cids":e.updateCids}}):e._e(),!0===e.error?r("Error",{on:{"update-error":e.updateError}}):e._e(),r("br")],1)],1)],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"FileUploader"}},[null!==e.address?n("b-form-file",{attrs:{state:Boolean(e.files),placeholder:"Choose a file or drop it here...",multiple:!0},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}):e._e(),n("br"),n("br"),!1===e.sending?n("b-button-group",[null===e.address?n("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return e.requestAccount()}}},[e._v(" Connect My Wallet ")]):e._e(),null!==e.address?n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.uploadFile(e.files)}}},[e._v(" Upload via IPFS ")]):e._e()],1):e._e(),null!==e.address&&!1===e.sending?n("p",[e._v(e._s(e.address))]):e._e(),!0===e.sending?n("div",[n("b-spinner",{attrs:{label:"Spinning"}}),n("b-card-text",[e._v("Sending to IPFS")])],1):e._e()],1)},s=[],l=n(1706),u=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"payable","type":"constructor"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"cid","type":"string"},{"internalType":"address[]","name":"downloaders","type":"address[]"},{"internalType":"address","name":"uploader","type":"address"}],"indexed":false,"internalType":"struct Dwetransfer.File","name":"file","type":"tuple"}],"name":"FileDownload","type":"event"},{"anonymous":false,"inputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"cid","type":"string"},{"internalType":"address[]","name":"downloaders","type":"address[]"},{"internalType":"address","name":"uploader","type":"address"}],"indexed":false,"internalType":"struct Dwetransfer.File","name":"file","type":"tuple"}],"name":"FileUploaded","type":"event"},{"inputs":[{"internalType":"uint256","name":"_file_id","type":"uint256"}],"name":"downloadFile","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"files","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"cid","type":"string"},{"internalType":"address","name":"uploader","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_file_id","type":"uint256"},{"internalType":"string","name":"_file_cid","type":"string"}],"name":"uploadFile","outputs":[],"stateMutability":"payable","type":"function"},{"stateMutability":"payable","type":"receive"}]}'),d=n(3522),c=n(1941),p=n(4818),f=n(7216),y={name:"FileUploader",data(){return{files:null,sending:!1,address:null}},methods:{async requestAccount(){var e=null;window.ethereum?console.log("Metamask detected"):console.log("Metamask not detected..."),e=await window.ethereum.request({method:"eth_requestAccounts"}),this.address=e,console.log("Current Account :"+e)},async uploadFile(e){console.log(e);const t=new l.xk({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDQwNGIyMEEzMmU2RGE0YTRDNmE1Mzk5MTg5NTc4RGFlM0ZCNkY5Y0UiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTIzMzY1OTIzMjUsIm5hbWUiOiJkd2V0cmFuc2ZlciJ9.qU0dEfGsmi1-UiBv4slk1a7jidaPBehkCYxab6WRun0"});try{const a="0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9",o=new f.Q(window.ethereum),s=o.getSigner(),l=new d.CH(a,u.Mt,s),y={value:c.fi("0.1")};var n="";try{this.sending=!0,n=await t.put(e),console.log("contract executed successfully!"),console.log(n)}catch{this.sending=!1,this.$emit("update-error",!0),console.log("Failed to send file... ")}var r=await l.uploadFile(n,y),i=p.$.decode(["uint256"],r.data);this.sending=!1,this.$emit("update-cids",[n]),console.log("Successfully sent to IPFS"),console.log("https://localhost:8080/download/"+i),console.log(r),console.log("rootCid :"+[n])}catch{this.$emit("update-error",!0),console.log("Failed to send to IPFS")}}}},m=y,g=n(1001),b=(0,g.Z)(m,o,s,!1,null,null,null),v=b.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card-text",[n("b-alert",{attrs:{show:"",variant:"info"}},[e._v("Files have been sent to Web3.Storage & IPFS successfully")]),n("ul",[n("li",[n("a",{attrs:{href:"https://google.com"}},[e._v("https://.ipfs.dweb.link")])])]),n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.$emit("update-cids",[])}}},[e._v(" Go Back ")])],1)],1)},_=[],w={name:"SuccessPage"},T=w,F=(0,g.Z)(T,h,_,!1,null,null,null),k=F.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[n("b-alert",{attrs:{variant:"danger",show:""}},[e._v(" Failed to upload to IPFS via Web3.Storage. Make sure you have selected a file to upload. ")]),n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$emit("update-error",!1)}}},[e._v(" Dismiss ")])],1)},S=[],O={name:"ErrorPage"},x=O,C=(0,g.Z)(x,M,S,!1,null,null,null),E=C.exports,I={name:"App",components:{FileUploader:v,Success:k,Error:E},data(){return{cids:[],sending:!1,error:!1}},methods:{updateCids(e){this.cids=e},updateError(e){this.error=e}}},U=I,P=(0,g.Z)(U,i,a,!1,null,null,null),j=P.exports,J=n(150);n(44);r["default"].config.productionTip=!1,r["default"].use(J.XG7),new r["default"]({render:e=>e(j)}).$mount("#app")},9726:function(e,t,n){"use strict";e.exports=n.p+"img/dwetransfer-logo.d5adff7b.png"},6601:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,r,i,a){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],i=e[d][1],a=e[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,a<o&&(o=a));if(s){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self["webpackChunkbootstrap_vue_app"]=self["webpackChunkbootstrap_vue_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3376)}));r=n.O(r)})();
//# sourceMappingURL=app.a0bd2b46.js.map